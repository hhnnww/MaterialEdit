import{q as t,A as V,r as U,d as B,o as k,b as D,w as n,Z as l,m as g,$ as W,O as b,h as s,t as E,p as Z,a9 as N,e as y,V as P}from"./index.2f682550.js";import{S as p,I as J,D as q,a as K,b as Q,c as X}from"./index.af916284.js";import{R as Y,h as ee,F as S,j as $,f as te,C as A,B as z,i as H,g as I}from"./index.95c76b98.js";import{a as C,N as j}from"./index.1342540f.js";const ne=C("cutting",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M6 10H38V42",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M10.5483 37.4519L42.385 5.61519",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M42 38H10V6",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),M=C("folder-success-one",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M43 23V14C43 12.8954 42.1046 12 41 12H24L19 6H7C5.89543 6 5 6.89543 5 8V40C5 41.1046 5.89543 42 7 42H22",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M29 38L34 42L43 31",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),oe=C("home",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M9 18V42H39V18L24 6L9 18Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M19 29V42H29V29H19Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M9 42H39",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap},null)])}),ue=C("link-cloud",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M13 33C9.66666 33 4 31.5 4 25.5C4 18.5 11 17 13 17C14 13.5 16 8 24 8C31 8 34 12 35 15.5C35 15.5 44 16.5 44 25C44 31 39 33 35 33H22",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M27 28L22 33L27 38",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ae=C("preview-open",!1,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M24 36C35.0457 36 44 24 44 24C44 24 35.0457 12 24 12C12.9543 12 4 24 4 24C4 24 12.9543 36 24 36Z",fill:e.colors[1],stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 29C26.7614 29 29 26.7614 29 24C29 21.2386 26.7614 19 24 19C21.2386 19 19 21.2386 19 24C19 26.7614 21.2386 29 24 29Z",fill:e.colors[3],stroke:e.colors[2],"stroke-width":e.strokeWidth,"stroke-linejoin":e.strokeLinejoin},null)])}),le=C("refresh",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M42 8V24",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M6 24L6 40",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M42 24C42 14.0589 33.9411 6 24 6C18.9145 6 14.3216 8.10896 11.0481 11.5M6 24C6 33.9411 14.0589 42 24 42C28.8556 42 33.2622 40.0774 36.5 36.9519",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),ie=C("strikethrough",!0,function(e){return t("svg",{width:e.size,height:e.size,viewBox:"0 0 48 48",fill:"none"},[t("path",{d:"M5 24H43",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M24 24C40 30 34 44 24 44C13.9999 44 12 36 12 36",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M35.9999 12C35.9999 12 33 4 23.9999 4C14.9999 4 11.4359 11.5995 15.6096 18",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null),t("path",{d:"M12 36C12 36 15.9999 44 24 44C32 44 36.564 36.4005 32.3903 30",stroke:e.colors[0],"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},null)])}),a=V({tb_name:"\u996D\u6876\u8BBE\u8BA1",site_name:"\u5305\u56FE",page_num:1}),r=V({url:"",max_page:1,cookie:"",down_path:"G:\\DOWN"}),L=U([]),x=V({count:0,all_page:1}),se=B({__name:"com-\u9009\u62E9\u9762\u677F",setup(e){const c=["\u996D\u6876\u8BBE\u8BA1","\u5C0F\u5915\u7D20\u6750","\u6CE1\u6CE1\u7B14\u5237"],h=["\u5305\u56FE","\u5343\u56FE","\u6444\u56FE","\u5343\u5E93","envato","freepik"];return(_,o)=>{const u=Y,m=ee,d=S,f=p,v=$;return k(),D(v,{layout:"vertical"},{default:n(()=>[t(f,null,{default:n(()=>[t(d,{label:"\u5E97\u94FA\u9009\u62E9"},{default:n(()=>[t(m,{modelValue:l(a).tb_name,"onUpdate:modelValue":o[0]||(o[0]=i=>l(a).tb_name=i),type:"button",size:"large"},{default:n(()=>[(k(),g(b,null,W(c,i=>t(u,{value:i},{default:n(()=>[s(E(i),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"\u7F51\u7AD9\u9009\u62E9"},{default:n(()=>[t(m,{modelValue:l(a).site_name,"onUpdate:modelValue":o[1]||(o[1]=i=>l(a).site_name=i),type:"button",size:"large"},{default:n(()=>[(k(),g(b,null,W(h,i=>t(u,{value:i},{default:n(()=>[s(E(i),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue"])]),_:1}),t(d,{label:"\u4E0B\u8F7D\u76EE\u5F55"},{default:n(()=>[t(m,{modelValue:l(r).down_path,"onUpdate:modelValue":o[2]||(o[2]=i=>l(r).down_path=i),type:"button",size:"large"},{default:n(()=>[t(u,{value:"D:\\DOWN"},{default:n(()=>[s("D:\\DOWN")]),_:1}),t(u,{value:"E:\\DOWN"},{default:n(()=>[s("E:\\DOWN")]),_:1}),t(u,{value:"F:\\DOWN"},{default:n(()=>[s("F:\\DOWN")]),_:1}),t(u,{value:"G:\\DOWN"},{default:n(()=>[s("G:\\DOWN")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})}}});function w(){fetch("http://127.0.0.1:22702/get_material/get_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({tb_name:a.tb_name,site_name:a.site_name,page_num:a.page_num})}).then(e=>e.json()).then(e=>{L.value=e.material_list,x.all_page=e.all_page,x.count=e.count})}function re(){j.info({title:"\u5F00\u59CB\u91C7\u96C6",content:"\u91C7\u96C6 "+a.site_name+" - "+a.tb_name,duration:1e4,closable:!0}),fetch("http://localhost:22702/scrapy/run",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:r.url,max_page:r.max_page,cookie:r.cookie,tb_name:a.tb_name,site_name:a.site_name})}).then(e=>e.text()).then(e=>{console.log(e),j.success({title:"\u91C7\u96C6\u6210\u529F",content:"\u91C7\u96C6 "+a.site_name+" - "+a.tb_name,duration:1e4,closable:!0}),w(),Object.assign(r)})}const ce=B({__name:"com-\u91C7\u96C6\u9762\u677F",setup(e){function c(){j.info({title:"envato\u4E0B\u8F7D\u6587\u4EF6\u5939\u5F52\u7C7B",content:"\u5F00\u59CB\u5F52\u7C7B",closable:!0,duration:1e4}),fetch("http://127.0.0.1:22702/scrapy/envato_down_path_cate",{method:"GET"}).then(o=>o.text()).then(o=>{console.log(o),j.success({title:"envato\u6587\u4EF6\u5939\u5F52\u7C7B",content:"\u5F52\u7C7B\u6210\u529F",closable:!0,duration:1e4})})}function h(){fetch("http://127.0.0.1:22702/get_material/clear_db/"+a.tb_name+"/"+a.site_name,{method:"GET"}).then(o=>o.text()).then(o=>{console.log(o),w()})}function _(){fetch("http://127.0.0.1:22702/scrapy/down_path_cate?down_path="+r.down_path,{method:"GET"}).then(o=>o.text()).then(o=>{j.success({title:"\u4E0B\u8F7D\u6587\u4EF6\u5939\u5F52\u7C7B",content:"\u5F52\u7C7B\u7ED3\u679C "+o,duration:1e4,closable:!0})})}return(o,u)=>{const m=te,d=S,f=A,v=J,i=z,G=p,T=H,R=$;return k(),D(R,{layout:"vertical",size:"large"},{default:n(()=>[t(T,{gutter:[20,0]},{default:n(()=>[t(f,{span:10},{default:n(()=>[t(d,{label:"\u91C7\u96C6\u7F51\u5740"},{default:n(()=>[t(m,{modelValue:l(r).url,"onUpdate:modelValue":u[0]||(u[0]=F=>l(r).url=F)},null,8,["modelValue"])]),_:1})]),_:1}),t(f,{span:4},{default:n(()=>[t(d,{label:"\u91C7\u96C6\u9875\u6570"},{default:n(()=>[t(v,{mode:"button",min:"1",max:"50",modelValue:l(r).max_page,"onUpdate:modelValue":u[1]||(u[1]=F=>l(r).max_page=F)},null,8,["modelValue"])]),_:1})]),_:1}),t(f,{span:10},{default:n(()=>[t(d,{label:"COOKIE"},{default:n(()=>[t(m,{modelValue:l(r).cookie,"onUpdate:modelValue":u[2]||(u[2]=F=>l(r).cookie=F)},null,8,["modelValue"])]),_:1})]),_:1}),t(f,{span:24},{default:n(()=>[t(G,null,{default:n(()=>[t(i,{type:"primary",onClick:l(re)},{icon:n(()=>[t(l(ue))]),default:n(()=>[s(" \u5F00\u59CB\u91C7\u96C6 ")]),_:1},8,["onClick"]),t(i,{onClick:h},{icon:n(()=>[t(l(ie))]),default:n(()=>[s(" \u6E05\u7A7A\u6570\u636E\u5E93 ")]),_:1}),t(i,{onClick:_},{icon:n(()=>[t(l(M))]),default:n(()=>[s(" \u4E0B\u8F7D\u6587\u4EF6\u5939\u5F52\u7C7B ")]),_:1}),l(a).site_name==="envato"?(k(),D(i,{key:0,onClick:c},{icon:n(()=>[t(l(M))]),default:n(()=>[s(" envato\u7D20\u6750\u4E0B\u8F7D\u6587\u4EF6\u5939\u5F52\u7C7B ")]),_:1},8,["onClick"])):Z("",!0)]),_:1})]),_:1})]),_:1})]),_:1})}}}),_e={class:"mx-5"},O=B({__name:"com-in-\u7FFB\u9875",setup(e){const c=V({prev_page:!1,next_page:!1});return N(()=>{c.prev_page=a.page_num<=1,c.next_page=a.page_num>=x.all_page}),(h,_)=>{const o=z,u=I,m=p;return k(),D(m,null,{default:n(()=>[t(u,{size:"large"},{default:n(()=>[t(o,{onClick:_[0]||(_[0]=d=>l(a).page_num=1)},{default:n(()=>[t(l(oe),{class:"mr-2"}),s(" \u9996\u9875 ")]),_:1}),t(o,{onClick:_[1]||(_[1]=d=>l(a).page_num--),disabled:c.prev_page},{default:n(()=>[t(l(q),{class:"mr-2"}),s(" \u4E0A\u4E00\u9875 ")]),_:1},8,["disabled"]),t(o,null,{default:n(()=>[s(E(l(a).page_num),1)]),_:1}),t(o,{onClick:_[2]||(_[2]=d=>l(a).page_num++),disabled:c.next_page},{default:n(()=>[s(" \u4E0B\u4E00\u9875 "),t(l(K),{class:"ml-2"})]),_:1},8,["disabled"])]),_:1}),y("div",_e,"\u7D20\u6750\u603B\u8BA1\uFF1A"+E(l(x).count),1),t(o,{type:"primary",size:"large",onClick:l(w)},{icon:n(()=>[t(l(le))]),default:n(()=>[s(" \u5237\u65B0 ")]),_:1},8,["onClick"])]),_:1})}}}),de={class:"opacity-50"},me=B({__name:"com-in-\u5355\u4E2A\u7D20\u6750",props:["material_obj"],setup(e){function c(o){window.open("http://127.0.0.1:22702/get_material/get_material/"+a.tb_name+"/"+a.site_name+"/"+o),L.value.forEach((u,m)=>{u.id===o&&L.value.splice(m,1)})}function h(o){window.open(o)}function _(o){fetch("http://127.0.0.1:22702/get_material/cut/"+a.tb_name+"/"+a.site_name+"/"+o,{method:"GET"}).then(u=>u.text()).then(u=>{console.log(u),w()})}return(o,u)=>{const m=Q,d=z,f=I,v=p;return k(),g(b,null,[y("div",{class:"cursor-pointer",onClick:u[0]||(u[0]=i=>c(e.material_obj.id))},[t(m,{preview:!1,src:e.material_obj.img},null,8,["src"])]),t(v,{size:"large",style:{"margin-top":"10px"}},{default:n(()=>[t(f,null,{default:n(()=>[t(d,{onClick:u[1]||(u[1]=i=>h(e.material_obj.url))},{icon:n(()=>[t(l(ae))]),default:n(()=>[s(" \u9884\u89C8 ")]),_:1}),t(d,{onClick:u[2]||(u[2]=i=>_(e.material_obj.id))},{icon:n(()=>[t(l(ne))]),default:n(()=>[s(" \u622A\u6B62 ")]),_:1})]),_:1}),y("span",de,E(e.material_obj.id),1)]),_:1})],64)}}}),ke=B({__name:"com-\u7D20\u6750\u5217\u8868",setup(e){return(c,h)=>{const _=A,o=H;return k(),g(b,null,[t(O),t(o,{gutter:[24,24],class:"py-14",align:"end",justify:"start"},{default:n(()=>[(k(!0),g(b,null,W(l(L),u=>(k(),D(_,{span:3},{default:n(()=>[t(me,{material_obj:u},null,8,["material_obj"])]),_:2},1024))),256))]),_:1}),t(O)],64)}}}),be=B({__name:"Index",setup(e){const c=localStorage.getItem("site_name");c&&(a.site_name=c);const h=localStorage.getItem("tb_name");return h&&(a.tb_name=h),w(),P(()=>[a.site_name,a.tb_name],()=>{localStorage.setItem("site_name",a.site_name),localStorage.setItem("tb_name",a.tb_name),r.url="",r.max_page=1,r.cookie="",a.page_num=1}),N(()=>{w()}),(_,o)=>{const u=X;return k(),g(b,null,[t(se),t(u),t(ce),t(u),t(ke)],64)}}});export{be as default};
