import{d as S,z as De,g as R,y as m,A as d,_ as F,r as z,c as g,h as M,w as D,j as V,n as b,f as I,D as Q,E as X,G as qe,H as Fe,o as Oe,e as q,k as c,ae as Le,R as je,S as Ne,af as ze,a6 as se,F as _,i as le,ag as We,L as Ke,ah as Ie,I as _e,ai as Ge,q as Ue,b as Te,a1 as Y,aj as $e,J as ke,a as Je,ak as Ee,m as Ze,a2 as Qe,al as Xe}from"./index.bd62f250.js";import{f as Ye,a as et}from"./index.fa1ec45d.js";import{u as tt}from"./index.cecdee51.js";const ot=S({name:"Popover",components:{Trigger:De},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:t}){const o=R("popover"),n=m(e.defaultPopupVisible),i=d(()=>{var u;return(u=e.popupVisible)!=null?u:n.value}),a=u=>{n.value=u,t("update:popupVisible",u),t("popupVisibleChange",u)},s=d(()=>[`${o}-popup-content`,e.contentClass]),r=d(()=>[`${o}-popup-arrow`,e.arrowClass]);return{prefixCls:o,computedPopupVisible:i,contentCls:s,arrowCls:r,handlePopupVisibleChange:a}}});function nt(e,t,o,n,i,a){const s=z("trigger");return g(),M(s,{class:b(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:D(()=>[V("div",{class:b(`${e.prefixCls}-title`)},[I(e.$slots,"title",{},()=>[Q(X(e.title),1)])],2),V("div",{class:b(`${e.prefixCls}-content`)},[I(e.$slots,"content",{},()=>[Q(X(e.content),1)])],2)]),default:D(()=>[I(e.$slots,"default")]),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var ae=F(ot,[["render",nt]]);const it=Object.assign(ae,{install:(e,t)=>{qe(e,t);const o=Fe(t);e.component(o+ae.name,ae)}}),st=S({name:"TypographyEditContent",components:{Input:Ye},props:{text:{type:String,required:!0}},emits:["change","end","update:text"],setup(e,{emit:t}){const n=[`${R("typography")}-edit-content`],i=m();function a(r){t("update:text",r),t("change",r)}function s(){t("end")}return Oe(()=>{if(!i.value||!i.value.$el)return;const r=i.value.$el.querySelector("input");if(!r)return;r.focus&&r.focus();const{length:u}=r.value;r.setSelectionRange(u,u)}),{classNames:n,inputRef:i,onBlur:s,onChange:a,onEnd:s}}});function lt(e,t,o,n,i,a){const s=z("Input");return g(),q("div",{class:b(e.classNames)},[c(s,{ref:"inputRef","auto-size":"","model-value":e.text,onBlur:e.onBlur,onInput:e.onChange,onKeydown:Le(e.onEnd,["enter"])},null,8,["model-value","onBlur","onInput","onKeydown"])],2)}var at=F(st,[["render",lt]]);const rt=S({name:"IconCopy",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const t=R("icon"),o=d(()=>[t,`${t}-copy`,{[`${t}-spin`]:e.spin}]),n=d(()=>{const i={};return e.size&&(i.fontSize=je(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:o,innerStyle:n}}}),pt=["stroke-width","stroke-linecap","stroke-linejoin"],ut=V("path",{d:"M20 6h18a2 2 0 0 1 2 2v22M8 16v24c0 1.105.891 2 1.996 2h20.007A1.99 1.99 0 0 0 32 40.008V15.997A1.997 1.997 0 0 0 30 14H10a2 2 0 0 0-2 2Z"},null,-1),ct=[ut];function dt(e,t,o,n,i,a){return g(),q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:Ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},ct,14,pt)}var re=F(rt,[["render",dt]]);const ft=Object.assign(re,{install:(e,t)=>{var o;const n=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(n+re.name,re)}}),yt=S({name:"IconEdit",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},setup(e){const t=R("icon"),o=d(()=>[t,`${t}-edit`,{[`${t}-spin`]:e.spin}]),n=d(()=>{const i={};return e.size&&(i.fontSize=je(e.size)?`${e.size}px`:e.size),e.rotate&&(i.transform=`rotate(${e.rotate}deg)`),i});return{cls:o,innerStyle:n}}}),vt=["stroke-width","stroke-linecap","stroke-linejoin"],mt=V("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"},null,-1),gt=[mt];function ht(e,t,o,n,i,a){return g(),q("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:b(e.cls),style:Ne(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin},gt,14,vt)}var pe=F(yt,[["render",ht]]);const Ct=Object.assign(pe,{install:(e,t)=>{var o;const n=(o=t==null?void 0:t.iconPrefix)!=null?o:"";e.component(n+pe.name,pe)}}),bt=S({name:"TypographyOperations",components:{Tooltip:ze,IconCheckCircleFill:et,IconCopy:ft,IconEdit:Ct},props:{editable:Boolean,copyable:Boolean,expandable:Boolean,isCopied:Boolean,isEllipsis:Boolean,expanded:Boolean,forceRenderExpand:Boolean,editTooltipProps:Object,copyTooltipProps:Object},emits:{edit:()=>!0,copy:()=>!0,expand:()=>!0},setup(e,{emit:t}){const o=R("typography"),n=d(()=>e.forceRenderExpand||e.expandable&&e.isEllipsis),{t:i}=tt();return{prefixCls:o,showExpand:n,t:i,onEditClick(){t("edit")},onCopyClick(){t("copy")},onExpandClick(){t("expand")}}}});function wt(e,t,o,n,i,a){const s=z("IconEdit"),r=z("Tooltip"),u=z("IconCheckCircleFill"),A=z("IconCopy");return g(),q(Ke,null,[e.editable?(g(),M(r,_({key:0,content:e.t("typography.edit")},e.editTooltipProps),{default:D(()=>[V("span",{class:b(`${e.prefixCls}-operation-edit`),onClick:t[0]||(t[0]=se((...h)=>e.onEditClick&&e.onEditClick(...h),["stop"]))},[c(s)],2)]),_:1},16,["content"])):le("v-if",!0),e.copyable?(g(),M(r,We(_({key:1},e.copyTooltipProps)),{content:D(()=>[I(e.$slots,"copy-tooltip",{copied:e.isCopied},()=>[Q(X(e.isCopied?e.t("typography.copied"):e.t("typography.copy")),1)])]),default:D(()=>[V("span",{class:b({[`${e.prefixCls}-operation-copied`]:e.isCopied,[`${e.prefixCls}-operation-copy`]:!e.isCopied}),onClick:t[1]||(t[1]=se((...h)=>e.onCopyClick&&e.onCopyClick(...h),["stop"]))},[I(e.$slots,"copy-icon",{copied:e.isCopied},()=>[e.isCopied?(g(),M(u,{key:0})):(g(),M(A,{key:1}))])],2)]),_:3},16)):le("v-if",!0),e.showExpand?(g(),q("a",{key:2,class:b(`${e.prefixCls}-operation-expand`),onClick:t[2]||(t[2]=se((...h)=>e.onExpandClick&&e.onExpandClick(...h),["stop"]))},[I(e.$slots,"expand-node",{expanded:e.expanded},()=>[Q(X(e.expanded?e.t("typography.collapse"):e.t("typography.expand")),1)])],2)):le("v-if",!0)],64)}var xe=F(bt,[["render",wt]]);let p;function Tt(e){return Array.prototype.slice.apply(e).map(o=>`${o}: ${e.getPropertyValue(o)};`).join("")}function ue(e){if(!e)return 0;const t=e.match(/^\d*(\.\d*)?/);return t?Number(t[0]):0}var $t=(e,t,o,n)=>{p||(p=document.createElement("div"),document.body.appendChild(p));const{rows:i,suffix:a,ellipsisStr:s}=t,r=window.getComputedStyle(e),u=Tt(r),A=ue(r.lineHeight),h=Math.round(A*i+ue(r.paddingTop)+ue(r.paddingBottom));p.setAttribute("style",u),p.setAttribute("aria-hidden","true"),p.style.height="auto",p.style.minHeight="auto",p.style.maxHeight="auto",p.style.position="fixed",p.style.left="0",p.style.top="-99999999px",p.style.zIndex="-200";const L=Ie({render(){return c("span",null,[o])}});L.mount(p);const ee=Array.prototype.slice.apply(p.childNodes[0].cloneNode(!0).childNodes);L.unmount(),p.innerHTML="";const P=document.createTextNode(`${s}${a}`);p.appendChild(P),ee.forEach(C=>{p.appendChild(C)});const B=document.createTextNode(n);p.insertBefore(B,P);function y(){return p.offsetHeight<=h}if(y())return{ellipsis:!1,text:n};function f(C,k=0,O=n.length,W=0){const j=Math.floor((k+O)/2),te=n.slice(0,j);if(C.textContent=te,k>=O-1)for(let w=O;w>=k;w-=1){const E=n.slice(0,w);if(C.textContent=E,y()||!E)return}y()?f(C,j,O,j):f(C,k,j,W)}return f(B),{text:B.textContent,ellipsis:!0}};const kt=async e=>{var t;if((t=navigator.clipboard)!=null&&t.writeText)try{await navigator.clipboard.writeText(e);return}catch(a){console.error(a!=null?a:new DOMException("The request is not allowed","NotAllowedError"))}const o=document.createElement("span");o.textContent=e,o.style.whiteSpace="pre",document.body.appendChild(o);const n=window.getSelection(),i=window.document.createRange();n==null||n.removeAllRanges(),i.selectNode(o),n==null||n.addRange(i);try{window.document.execCommand("copy")}catch(a){console.error(`execCommand Error: ${a}`)}n==null||n.removeAllRanges(),window.document.body.removeChild(o)};let N;function Et(e){if(!e)return"";N||(N=document.createElement("div"),N.setAttribute("aria-hidden","true"),document.body.appendChild(N));const t=Ie({render(){return c("div",null,[e])}});t.mount(N);const o=N.innerText;return t.unmount(),o}var xt=Object.defineProperty,St=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,Se=Object.getOwnPropertySymbols,Bt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,Pe=(e,t,o)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,jt=(e,t)=>{for(var o in t||(t={}))Bt.call(t,o)&&Pe(e,o,t[o]);if(Se)for(var o of Se(t))Ot.call(t,o)&&Pe(e,o,t[o]);return e},Nt=(e,t)=>St(e,Pt(t));function Ve(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Ze(e)}function zt(e){const{bold:t,mark:o,underline:n,delete:i,code:a}=e,s=[];return t&&s.push("b"),n&&s.push("u"),i&&s.push("del"),a&&s.push("code"),o&&s.push("mark"),s}function Be(e,t){const{mark:o}=e,n=zt(e),i=Y(o)&&o.color?{backgroundColor:o.color}:{};return n.reduce((a,s)=>c(s,s==="mark"?{style:i}:{},Ve(a)?a:{default:()=>[a]}),t)}function It(e){const t=!!e.showTooltip,o=Y(e.showTooltip)&&e.showTooltip.type==="popover"?it:ze,n=Y(e.showTooltip)&&e.showTooltip.props||{};return Nt(jt({rows:1,suffix:"",ellipsisStr:"...",expandable:!1,css:!1},Qe(e,["showTooltip"])),{showTooltip:t,TooltipComponent:o,tooltipProps:n})}var _t=S({name:"TypographyBase",inheritAttrs:!1,props:{component:{type:String,required:!0},type:{type:String},bold:{type:Boolean},mark:{type:[Boolean,Object],default:!1},underline:{type:Boolean},delete:{type:Boolean},code:{type:Boolean},disabled:{type:Boolean},editable:{type:Boolean},editing:{type:Boolean,default:void 0},defaultEditing:{type:Boolean},editText:{type:String},copyable:{type:Boolean},copyText:{type:String},copyDelay:{type:Number,default:3e3},ellipsis:{type:[Boolean,Object],default:!1},editTooltipProps:{type:Object},copyTooltipProps:{type:Object}},emits:{editStart:()=>!0,change:e=>!0,"update:editText":e=>!0,editEnd:()=>!0,"update:editing":e=>!0,copy:e=>!0,ellipsis:e=>!0,expand:e=>!0},setup(e,{slots:t,emit:o,attrs:n}){const{editing:i,defaultEditing:a,ellipsis:s,copyable:r,editable:u,copyText:A,editText:h,copyDelay:L,component:ee}=_e(e),P=R("typography"),B=d(()=>[P,{[`${P}-${e.type}`]:e.type,[`${P}-disabled`]:e.disabled}]),y=m(),f=m(""),[C,k]=Ge(a.value,Ue({value:i})),O=d(()=>u.value&&C.value);function W(){o("update:editing",!0),o("editStart"),k(!0)}function j(l){o("update:editText",l),o("change",l)}function te(){!C.value||(o("update:editing",!1),o("editEnd"),k(!1))}const w=m(!1);let E=null;function ce(){var l;const $=(l=A.value)!=null?l:f.value;kt($||""),w.value=!0,o("copy",$),E=setTimeout(()=>{w.value=!1},L.value)}Te(()=>{E&&clearTimeout(E),E=null});const H=m(!1),T=m(!1),oe=m(""),v=d(()=>It(Y(s.value)&&s.value||{}));let ne=null;function de(){const l=!T.value;T.value=l,o("expand",l)}function fe(l=!1){return v.value.css?c(xe,{editable:u.value,copyable:r.value,expandable:v.value.expandable,isCopied:w.value,isEllipsis:U.value,expanded:T.value,forceRenderExpand:l||T.value,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:W,onCopy:ce,onExpand:de},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]}):c(xe,{editable:u.value,copyable:r.value,expandable:v.value.expandable,isCopied:w.value,isEllipsis:H.value,expanded:T.value,forceRenderExpand:l,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:W,onCopy:ce,onExpand:de},{"copy-tooltip":t["copy-tooltip"],"copy-icon":t["copy-icon"],"expand-node":t["expand-node"]})}function Re(){if(!y.value)return;const{ellipsis:l,text:$}=$t(y.value,v.value,fe(!!v.value.expandable),f.value);H.value!==l&&(H.value=l,v.value.css||o("ellipsis",l)),oe.value!==$&&(oe.value=$||"")}function K(){!(s.value&&!T.value)||($e(ne),ne=Xe(()=>{Re()}))}Te(()=>{$e(ne)}),ke(()=>v.value.rows,()=>{K()}),ke(s,l=>{l?K():H.value=!1});let G=[];const ye=()=>{if(s.value||r.value||u.value){const l=Et(G);l!==f.value&&(f.value=l,K())}};Oe(ye),Je(ye);const ie=m(),U=m(!1),ve=()=>{if(y.value&&ie.value){const l=ie.value.offsetHeight>y.value.offsetHeight;l!==U.value&&(U.value=l,o("ellipsis",l))}},Ae=d(()=>T.value?{}:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":v.value.rows,"-webkit-box-orient":"vertical"});return()=>{var l,$;if(G=((l=t.default)==null?void 0:l.call(t))||[],O.value){const Z=($=h.value)!=null?$:f.value;return c(at,{text:Z,onChange:x=>{x!==Z&&j(x)},onEnd:te},null)}const{suffix:He,ellipsisStr:Me,showTooltip:me,tooltipProps:ge,TooltipComponent:he}=v.value,J=H.value&&!T.value,Ce=J&&!me?{title:f.value}:{},be=ee.value;if(v.value.css){const Z=Be(e,G),x=c(be,_({class:B.value,ref:y,style:Ae.value},Ce,n),{default:()=>[c("span",{ref:ie},[Z])]});return U.value?c(he,_(ge,{onResize:()=>ve()}),{default:()=>[x],content:()=>f.value}):c(Ee,{onResize:()=>{ve()}},Ve(x)?x:{default:()=>[x]})}const we=Be(e,J?oe.value:G);return c(Ee,{onResize:()=>K()},{default:()=>[c(be,_({class:B.value,ref:y},Ce,n),{default:()=>[J&&me?c(he,ge,{default:()=>[c("span",null,[we])],content:()=>f.value}):we,J?Me:null,He,fe()]})]})}}}),Ht=S({name:"TypographyText",inheritAttrs:!1,props:{ellipsis:{type:[Boolean,Object],default:!1}},setup(e){const{ellipsis:t}=_e(e);return{component:d(()=>t!=null&&t.value?"div":"span")}},render(){const{ellipsis:e,component:t}=this;return c(_t,_(this.$attrs,{ellipsis:e,component:t}),this.$slots)}});export{_t as B,Ht as T};
